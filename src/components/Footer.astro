---
// 檔案路徑: src/components/Footer.astro
import author from '../data/author.json';

// (我們把 BaseLayout.astro 中的邏輯搬到這裡)
const formattedFooterBio = author.footerBio.replaceAll('\n', '<br />');
---
<footer class="mt-12 border-t border-[var(--border-color)]">
        
    <div class="container mx-auto px-6 py-10">
        <div class="max-w-3xl mx-auto">
            <div class="bg-[var(--bg-card)] rounded-xl shadow-md flex flex-col md:flex-row items-center justify-center p-8 gap-6">
                
                <!-- 頭像區 -->
                <div class="flex-shrink-0">
                    <img src={author.avatar} alt={author.name} class="w-20 h-20 rounded-full object-cover border-2 border-white shadow-sm">
                </div>

                <!-- 
                   文字區 
                   1. text-justify: 手機版左右對齊 (讓文字兩邊切齊)
                   2. md:text-left: 電腦版靠左對齊
                   3. w-full: 確保區塊寬度足夠，讓對齊效果正常顯示
                -->
                <div class="text-justify md:text-left max-w-lg w-full">
                    <!-- 標題 (因為是短行，左右對齊視覺上會像靠左，這是正常的) -->
                    <h4 class="text-base font-bold text-[var(--text-primary)] mb-2">作者簡介</h4>
                    
                    <p 
                      class="text-sm text-[var(--text-secondary)] mb-3 leading-relaxed"
                      set:html={formattedFooterBio}
                    ></p>

                    <a href="/about" class="text-sm font-semibold text-[var(--accent-color)] hover:text-[var(--accent-hover)] transition-colors inline-block">
                        閱讀更多 &rarr;
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="text-center text-[var(--text-secondary)] py-10 border-t border-[var(--border-color)]">
        <p class="mb-2">
        聯絡信箱：
        <a 
          href="mailto:jing180804@gmail.com" 
          class="hover:underline hover:text-[var(--accent-color)] transition-colors"
        >
          jing180804@gmail.com
        </a>
        </p>

        <p>&copy; 2025 KAE的雜記. All rights reserved.</p>
    </div>
</footer>
