---
// src/pages/about.astro (已修正：移除內文分隔線 + Header 置中)
import BaseLayout from '../layouts/BaseLayout.astro';
import author from '../data/author.json';

// 處理 \n 換行符號
const formattedBio = author.fullBio.replaceAll('\n', '<br />');
---
<BaseLayout
  pageTitle={` ${author.name}`}
  description={author.footerBio}
>

  <div class="max-w-3xl mx-auto">
    
    <article class="bg-[var(--bg-card)] rounded-xl shadow-lg p-8 md:p-12">

      <!-- 
        1. 上方 Header 區塊
        items-center: 垂直置中
        justify-center: 【新增】水平置中 (解決太靠左的問題)
        border-b: 保留這條唯一的底線 (Header 與內文的區隔)
      -->
      <div class="flex flex-col md:flex-row items-center justify-center gap-8 mb-8 border-b border-[var(--border-color)] pb-8">
        
        <!-- 頭像 -->
        <img 
          src={author.avatar} 
          alt={`${author.name} 的大頭照`}
          class="w-32 h-32 md:w-40 md:h-40 rounded-full object-cover border-4 border-white shadow-sm flex-shrink-0"
        >
        
        <!-- 名字與 Tagline -->
        <div class="text-center md:text-left">
          <h1 class="text-4xl font-bold text-[var(--text-primary)] mb-3">
            {author.name}
          </h1>
          <p class="text-lg text-[var(--text-secondary)] font-medium">
            {author.tagline}
          </p>
        </div>
      </div>

      <!-- 
        2. 下方內文區塊
        加入 class="about-content" 以便下方 CSS 針對性調整
      -->
      <div class="prose max-w-none about-content">
        <div 
          class="text-xl leading-relaxed space-y-4 text-justify" 
          set:html={formattedBio} 
        />
      </div>

    </article>

  </div>

  <!-- 
    CSS 覆寫區塊 
    專門針對 .about-content 裡的標題移除底線
  -->
  <style is:global>
    .about-content h2,
    .about-content h3 {
      border-bottom: none !important; /* 強制移除底線 */
      padding-bottom: 0 !important;
      margin-top: 2rem !important;    /* 保持上方間距，讓段落分明 */
      margin-bottom: 1rem !important; /* 保持下方間距 */
    }
  </style>

</BaseLayout>
